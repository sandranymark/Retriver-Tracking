<div class="calendar-container">
    <full-calendar [options]="calendarOptions"></full-calendar>

    <h3>Senaste tr√§ningspassen</h3>
    @if (recentSessions.length > 0) {
    <ul>
        @for (session of recentSessions; track session.date) {
        <li>
            <strong>{{ session.date }}:</strong> {{ session.title }} - {{ session.details }}
        </li>
        }
    </ul>
    } @else {
    <p>Inga tr√§ningspass har loggats √§nnu.</p>
    }

    <!-- üü¢ MODAL: Visa ett tr√§ningspass -->
    @if (selectedSession) {
    <div class="modal" (click)="closeModal()">
        <div class="modal-content" (click)="$event.stopPropagation()">
            <span class="close" (click)="closeModal()">&times;</span>
            <h2>{{ selectedSession.title }}</h2>
            <p><strong>Datum:</strong> {{ selectedSession.date }}</p>
            <p><strong>Detaljer:</strong> {{ selectedSession.details }}</p>
        </div>
    </div>
    }

    <!-- üü¢ MODAL: L√§gg till nytt tr√§ningspass -->
    @if (showAddTrainingModal) {
    <div class="modal" (click)="closeAddTrainingModal()" (touchend)="closeAddTrainingModal()">
        <div class="modal-content" (click)="$event.stopPropagation()" (touchend)="$event.stopPropagation()">
            <span class="close" (click)="closeAddTrainingModal()" (touchend)="closeAddTrainingModal()">&times;</span>
            <h3>L√§gg till nytt tr√§ningspass</h3>
            <p><strong>Datum:</strong> {{ selectedDate }}</p>
            <article class="input-field">
                <input class="trainingSession-input" type="text" [(ngModel)]="newTrainingTitle" placeholder="Titel">
                <textarea class="trainingSession-input" [(ngModel)]="newTrainingDetails"
                    placeholder="Beskriv tr√§ningen"></textarea>
                <button class="add-btn" (click)="addTraining()" (touchend)="addTraining()">L√§gg till</button>
            </article>
        </div>
    </div>
    }

</div>